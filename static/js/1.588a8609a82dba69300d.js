webpackJsonp([1],{"1aXt":function(e,t,a){"use strict";var s=a("Xxa5"),n=a.n(s),o=a("exGp"),i=a.n(o),r={name:"siderLeft",props:{appId:Number},data:function(){return{data:[],collapsed:!1}},created:function(){var e=this;this.menuListData(this.appId),this.bus.$on("collapsedChange",function(t){console.log(t),e.collapsed=t})},mounted:function(){},watch:{appId:function(){this.menuListData(this.appId)}},methods:{menuListData:function(e){var t=this;return i()(n.a.mark(function a(){var s;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.$Http.navList({appId:e});case 2:s=a.sent,console.log(s),0===s.code&&(t.data=s.menuList,localStorage.permissions=s.permissions);case 5:case"end":return a.stop()}},a,t)}))()},goToPage:function(e){this.bus.$emit("goToPage",e)}}},c={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("a-layout-sider",{staticClass:"siderLeft",model:{value:e.collapsed,callback:function(t){e.collapsed=t},expression:"collapsed"}},[s("div",{staticClass:"logo clear"},[s("img",{staticClass:"logo-img",attrs:{src:a("sJE0")}}),e._v(" "),e.collapsed?e._e():s("span",{staticClass:"logo-name"},[e._v("小耳朵")])]),e._v(" "),e.data&&e.data[0]&&e.data[0].list&&e.data[0].list[0]?s("a-menu",{attrs:{theme:"dark",defaultSelectedKeys:[e.data[0].list[0].menuId],defaultOpenKeys:[e.data[0].menuId],mode:"inline"}},[e._l(e.data,function(t){return[t.list&&t.list.length&&t.list.length>0?s("a-sub-menu",{key:t.menuId},[s("span",{attrs:{slot:"title"},slot:"title"},[s("a-icon",{attrs:{type:t.icon}}),s("span",[e._v(e._s(t.name))])],1),e._v(" "),e._l(t.list,function(t){return s("a-menu-item",{key:t.menuId,on:{click:function(a){return e.goToPage(t.url)}}},[e._v(e._s(t.name))])})],2):s("a-menu-item",{key:t.menuId,on:{click:function(a){return e.goToPage(t.url)}}},[s("a-icon",{attrs:{type:t.icon}}),e._v(" "),s("span",[e._v(e._s(t.name))])],1)]})],2):e._e()],1)},staticRenderFns:[]};var l=a("VU/8")(r,c,!1,function(e){a("IU3Z")},"data-v-61a7b975",null);t.a=l.exports},BCqi:function(e,t){},IU3Z:function(e,t){},NH65:function(e,t,a){e.exports=a.p+"static/img/contact.2a33db4.png"},"Nn+v":function(e,t,a){e.exports=a.p+"static/img/user.1af50e8.png"},WgCh:function(e,t){},"Y/Qc":function(e,t,a){"use strict";var s=a("Xxa5"),n=a.n(s),o=a("exGp"),i=a.n(o),r=a("lh9K"),c=a("CaOM"),l={name:"myheader",data:function(){return{collapsed:!1,visible:!1,visibleOne:!1,downloadModel:!1,form:this.$form.createForm(this,{name:"coordinated"}),modifyData:{rePassword:"",password:"",newPassword:""},msg:"",userName:localStorage.userId&&"undefined"!==localStorage.userId?localStorage.userId:"",messageNum:0,readStatus:"1",permissions:"",showMessage:!1,xs:!0,downloadPic:"https://api.xiaoerd.icu/app/version/downloadQRCode",appId:"",user:{name:localStorage.getItem("userName"),avatar:localStorage.getItem("avatar")}}},created:function(){this.appId=Number(Object(c.a)("appId")),this.menuListData(this.appId),this.queryByStoreId(localStorage.getItem("shopId"))},mounted:function(){},methods:{queryByStoreId:function(e){var t=this;return i()(n.a.mark(function a(){var s;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.$Http.queryByStoreId({id:e});case 2:0===(s=a.sent).code&&null!==s.sysTenant&&(t.visibleOne=!0);case 4:case"end":return a.stop()}},a,t)}))()},showDownloadModel:function(){this.downloadModel=!0},handleCancel:function(){this.visibleOne=!1},toCustomerService:function(){window.open("https://mpkf.weixin.qq.com/cgi-bin/kfloginpage","_blank")},menuListData:function(e){var t=this;return i()(n.a.mark(function a(){var s;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.$Http.navList({appId:e});case 2:0===(s=a.sent).code&&(t.data=s.menuList,t.permissions=s.permissions,-1!==t.permissions.indexOf("order:list")&&(t.showMessage=!0,t.orderData()));case 4:case"end":return a.stop()}},a,t)}))()},orderData:function(){var e=this;return i()(n.a.mark(function t(){var a;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$Http.messageTotal({isRead:e.readStatus});case 2:0===(a=t.sent).code&&(e.messageNum=a.total);case 4:case"end":return t.stop()}},t,e)}))()},changeCollapsed:function(){this.collapsed=!this.collapsed,this.bus.$emit("collapsedChange",this.collapsed)},loginMyOut:function(){var e=this;Object(r.d)(function(){e.$router.replace({path:"/login",query:{}})})},modifyPwd:function(e){var t=this;return i()(n.a.mark(function a(){var s;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.$Http.modifyPwd(e);case 2:0===(s=a.sent).code?(t.$message.info("密码修改成功"),t.visible=s.false):t.msg=s.msg;case 4:case"end":return a.stop()}},a,t)}))()},showModal:function(){this.visible=!0},handleOk:function(){if(""!==this.modifyData.password){var e=this.modifyData.newPassword;if(""!==e)this.modifyData.rePassword===e?this.modifyPwd(this.modifyData):this.msg="确认密码错误";else this.msg="新密码不能为空"}else this.msg="原始密码不能为空"},shopMyOut:function(){var e=this;Object(r.e)(function(){e.$router.replace({path:"/choiceStore",query:{}})})},orderContact:function(){this.bus.$emit("goToPage","sysMessage")}}},d={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("a-layout-header",{staticClass:"myheader"},[s("a-icon",{staticClass:"trigger",attrs:{type:e.collapsed?"menu-unfold":"menu-fold"},on:{click:e.changeCollapsed}}),e._v(" "),s("span",{staticClass:"myheader-left"},[e._v("欢迎 "+e._s(e.userName))]),e._v(" "),s("a-dropdown",[s("a",{staticClass:"ant-dropdown-link myheader-right"},[s("img",{attrs:{src:a("Nn+v")}}),e._v(e._s(e.user.name)+"\n")]),e._v(" "),s("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[s("a-menu-item",{key:"0"},[s("span",{on:{click:e.showModal}},[e._v("修改密码")])]),e._v(" "),s("a-menu-divider"),e._v(" "),s("a-menu-item",{key:"1"},[s("span",{on:{click:e.loginMyOut}},[e._v("退出系统")])]),e._v(" "),s("a-menu-divider"),e._v(" "),s("a-menu-item",{key:"2"},[s("span",{on:{click:e.shopMyOut}},[e._v("退出店铺")])])],1)],1),e._v(" "),s("a-badge",{staticClass:"myheader-right",staticStyle:{width:"20px","margin-top":"18px","margin-right":"10px"},style:{fontSize:"25px",color:"#08c"},attrs:{title:"客服管理",type:"customer-service"},on:{click:e.toCustomerService}},[s("img",{attrs:{src:a("NH65")}})]),e._v(" "),e.showMessage?s("a-badge",{staticClass:"myheader-right",staticStyle:{"margin-top":"18px",width:"20px","margin-right":"15px"},attrs:{title:"消息提示",count:e.messageNum},on:{click:e.orderContact}},[s("img",{attrs:{src:a("xFVB")}})]):e._e(),e._v(" "),s("a-modal",{attrs:{zIndex:99999,title:"修改密码",centered:"",okText:"确认",cancelText:"取消"},on:{ok:e.handleOk},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[s("a-form",{attrs:{form:e.form,layout:"vertical"}},[s("a-form-item",{attrs:{label:"原始密码","label-col":{span:6},"wrapper-col":{span:12}}},[s("a-input",{staticStyle:{width:"250px"},attrs:{placeholder:"原始密码"},model:{value:e.modifyData.password,callback:function(t){e.$set(e.modifyData,"password",t)},expression:"modifyData.password"}})],1),e._v(" "),s("a-form-item",{attrs:{label:"新密码","label-col":{span:6},"wrapper-col":{span:12}}},[s("a-input",{staticStyle:{width:"250px"},attrs:{placeholder:"新密码"},model:{value:e.modifyData.newPassword,callback:function(t){e.$set(e.modifyData,"newPassword",t)},expression:"modifyData.newPassword"}})],1),e._v(" "),s("a-form-item",{attrs:{label:"确认新密码","label-col":{span:6},"wrapper-col":{span:12}}},[s("a-input",{staticStyle:{width:"250px"},attrs:{placeholder:"确认新密码"},model:{value:e.modifyData.rePassword,callback:function(t){e.$set(e.modifyData,"rePassword",t)},expression:"modifyData.rePassword"}})],1),e._v(" "),e.msg?s("a-form-item",[s("a-alert",{attrs:{type:"error",message:e.msg,banner:""}})],1):e._e()],1)],1),e._v(" "),s("a-modal",{attrs:{zIndex:99999,title:"到期提醒",centered:"",footer:!1},on:{cancel:e.handleCancel},model:{value:e.visibleOne,callback:function(t){e.visibleOne=t},expression:"visibleOne"}},[s("p",{staticStyle:{"font-size":"25px","text-align":"center"}},[e._v("您程序的剩余使用时间不足15天")])])],1)},staticRenderFns:[]};var u=a("VU/8")(l,d,!1,function(e){a("BCqi")},"data-v-fccb1ffa",null).exports,p=a("2nhO"),m={name:"siderRight",props:{},components:{myheader:u,myfooter:a("80Q3").a,mycontent:p.a},methods:{}},f={render:function(){var e=this.$createElement,t=this._self._c||e;return t("a-layout",{staticClass:"siderRight"},[t("myheader"),this._v(" "),t("mycontent"),this._v(" "),t("myfooter")],1)},staticRenderFns:[]};var h=a("VU/8")(m,f,!1,function(e){a("pMGD")},"data-v-414229e0",null);t.a=h.exports},pMGD:function(e,t){},sJE0:function(e,t,a){e.exports=a.p+"static/img/logo2.8c7eb3b.png"},xFVB:function(e,t,a){e.exports=a.p+"static/img/message.ecfe8d2.png"},xW93:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("1aXt"),n=a("Y/Qc"),o=a("lh9K"),i=a("CaOM"),r={name:"index",components:{siderLeft:s.a,siderRight:n.a},data:function(){return{appId:""}},created:function(){this.checkMyLogin()},mounted:function(){},methods:{checkMyLogin:function(){Object(o.a)()||this.$router.replace({name:"login",query:{}}),Object(o.b)()||this.$router.replace({name:"choiceStore",query:{}}),this.appId=Number(Object(i.a)("appId"))}}},c={render:function(){var e=this.$createElement,t=this._self._c||e;return t("a-layout",{staticClass:"home",staticStyle:{height:"100vh"}},[t("siderLeft",{attrs:{appId:this.appId}}),this._v(" "),t("siderRight")],1)},staticRenderFns:[]};var l=a("VU/8")(r,c,!1,function(e){a("WgCh")},"data-v-ee92404a",null);t.default=l.exports}});
//# sourceMappingURL=1.588a8609a82dba69300d.js.map